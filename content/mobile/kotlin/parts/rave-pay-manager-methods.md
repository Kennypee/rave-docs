## Rave Pay Manager Methods

- `setAmount()` - This is the amount to be charged from card/account. The data type is double - [Required]. If amount is not specified, the user is presented with a field in the UI to enter the amount. However if specified, the amount field is hidden
- `setCountry()` -This is the route country for the transaction with respect to the currency. The data type is String - [Required]
- `setCurrency()` -This is the specified currency to charge the card in. String - [Required]
- `setEmail()` - This is the email address of the customer. String - [Required]
- `setfName()` - This is the first name of the card holder or the customer. String - [Required]
- `setlName()` - This is the last name of the card holder or the customer. String - [Required]
- `setNarration()` - This is a custom description added by the merchant. String
- `setPublicKey()` - Merchant's public key String - [Required]
- `setSecretKey()` - Merchant's secret key String - [Required]
- `setTxRef()` - This is the unique reference, unique to the particular transaction being carried out. It is generated by the merchant for every transaction String - [Required]
- `acceptAccountPayments()` - Set to `true` if you want to accept payments via bank accounts, else set to false. boolean. Defaults to `true`
- `acceptCardPayments()` - Set to `true` if you want to accept payments via cards, else set to `false`. boolean. Defaults to `true`
- `onStagingEnv()` - Set to `true` if you want your transactions to run in the staging environment otherwise set to false. Defaults to `false`
- `allowSaveCardFeature()` - Set to `true` if you want your users to be able to save their cards for later reuse otherwise set to `false`. - [Required]
- `setMeta()` - Pass in any other custom data you wish to pass. It takes in a List of Metaobjects
- `withTheme()` - Sets the theme of the UI. int
- `initialize()` - Launch the Rave Payment UI

The `RavePayManager` class needs requires your public key and secret key. To view your public as well as secret key, on your Rave dashboard navigate to **Settings** >> **API** 

![](https://d2mxuefqeaa7sj.cloudfront.net/s_8CA58C87BD82C742CD0884051C7ADAB3BACA5DC2CB44CB404AA1A0C3C4832142_1524003443152_Screenshot+from+2018-04-17+23-16-54.png)

  > **CAUTION**: The **public key** is used when embedding the pay button, it can be used on the **client page**. The **secret key** is very sensitive to your Rave account and should not be exposed to your **client page**. Do not commit your **secret key** to GitHub or any other versioning system and ensure you only use your **secret key** on the **server side**. Kindly re-read this paragraph. 

### Payment Response

To handle the payment response, we simply override the `onActivityResult()` method in the calling activity and set it up like this:

    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {
        if (requestCode == RaveConstants.RAVE_REQUEST_CODE && data != null) {
            val message = data.getStringExtra("response")
            if (resultCode == RavePayActivity.RESULT_SUCCESS) {
                Toast.makeText(this, "SUCCESS " + message, Toast.LENGTH_SHORT).show()
            } else if (resultCode == RavePayActivity.RESULT_ERROR) {
                Toast.makeText(this, "ERROR " + message, Toast.LENGTH_SHORT).show()
            } else if (resultCode == RavePayActivity.RESULT_CANCELLED) {
                Toast.makeText(this, "CANCELLED " + message, Toast.LENGTH_SHORT).show()
            }
        } else {
            super.onActivityResult(requestCode, resultCode, data)
        }
    }

The intent's `message` object contains the raw JSON response from the Rave API. This can be parsed to retrieve any additional payment information needed.